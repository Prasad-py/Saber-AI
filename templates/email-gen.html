{% extends 'includes/layout.html' %}


{% block body %}
<main class="container">
  <br>
  <div style="background:#E0E0E0" class="p-5 rounded mt-5">
    <h1> Email Generation </h1>
    <p class="lead">
      The Saber writing tool will allow you to generate full fledged emails out of bullet points using GPT3's advance
      text generation AI.
    </p>

    <!-- <h2>Enter the topic you would like to discuss.</h2> -->

    <form class="" action="/email-gen" method="post">

      <div class="mb-3">
        <label class="form-label">Enter Previous Email</label>
        <input type="text" class="form-control" name="prev_email" placeholder="eg. Dear Saber, ...">
        <br>
        <label class="form-label">Enter Bullet Points</label>
        <input type="text" class="form-control" name="bullet_points" placeholder="eg. Meeting, 8am, tommorow">
        <div class="form-text"></div>
      </div>

      <button type="submit" class="btn btn-primary btn-lg"> Generate Email </button>

    </form>
  </div>


  <div class="p-3 rounded-lg">
    <div class="row">
      <div class="col-lg-12">
        <h3 class="text-primary">{{prompt}}</h3>
        <p id="answer" class="lead">
          {% autoescape off %}
          {{ openAIAnswer }}
	        {% endautoescape %}
        </p>
        

        <script>
          function copyText() {

            var Text = document.getElementById("answer");
            Text.select();
            /* Copy text into clipboard */
            navigator.clipboard.writeText
              (Text.value);
          }
        </script>

        <button onclick="copyText()">Copy</button>
      </div>
    </div>
  </div>
</main>
{% endblock %}
